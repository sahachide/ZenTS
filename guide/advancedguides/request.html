<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Request Context | ZenTS - Node.js &amp; TypeScript MVC-Framework for building rich web applications</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" size="57x57" href="/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" size="60x60" href="/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" size="72x72" href="/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" size="76x76" href="/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" size="114x114" href="/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" size="120x120" href="/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" size="144x144" href="/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" size="152x152" href="/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" size="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" size="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" size="96x96" href="/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon/favicon-16x16.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600;700;800&amp;family=Raleway:wght@400;500;600;700;800;900&amp;display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <script>                
        window.addEventListener('load', function () {
          var inputSelector = '.search-box > input';
          var $el = document.querySelector(inputSelector);

          if($el) {          
            $el.disabled = true;
            $el.placeholder = 'Loading...';
  
            var script = document.createElement("script");
            script.addEventListener("load", function() {
              docsearch({
                apiKey: '1c03de24a87faf1bfd8b7e760c63b3ab',
                indexName: 'zents',
                inputSelector: inputSelector,
              });
              $el.disabled = false;
              $el.placeholder = 'Search...';
            });
  
            script.src = "https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js";
  
            document.body.appendChild(script);            
          }
        });
      </script>
    <meta name="description" content="ZenTS is a Node.js & TypeScript MVC-Framework for building rich web applications, released as free and open-source software under the MIT License. It is designed for building web applications with modern tools and design patterns.">
    <meta name="keywords" content="ZenTS guide tutorial documentation http request framework mvc TypeScript">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#512DA8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.5f5f71b9.css" as="style"><link rel="preload" href="/assets/js/app.ff0d6eb6.js" as="script"><link rel="preload" href="/assets/js/2.1831a849.js" as="script"><link rel="preload" href="/assets/js/20.9bbbcf25.js" as="script"><link rel="preload" href="/assets/js/4.be0fa7c4.js" as="script"><link rel="prefetch" href="/assets/js/10.f60de0dc.js"><link rel="prefetch" href="/assets/js/11.f70646e3.js"><link rel="prefetch" href="/assets/js/12.7d400f46.js"><link rel="prefetch" href="/assets/js/13.75ca8dc6.js"><link rel="prefetch" href="/assets/js/14.53bbd6c1.js"><link rel="prefetch" href="/assets/js/15.485b7772.js"><link rel="prefetch" href="/assets/js/16.d701e551.js"><link rel="prefetch" href="/assets/js/17.e2a1a4bc.js"><link rel="prefetch" href="/assets/js/18.279c874a.js"><link rel="prefetch" href="/assets/js/19.bd5220e3.js"><link rel="prefetch" href="/assets/js/21.8bbbd12a.js"><link rel="prefetch" href="/assets/js/22.46e6349d.js"><link rel="prefetch" href="/assets/js/23.403bfdcc.js"><link rel="prefetch" href="/assets/js/24.1c0b9c00.js"><link rel="prefetch" href="/assets/js/25.1d5dbc6b.js"><link rel="prefetch" href="/assets/js/26.dcb85366.js"><link rel="prefetch" href="/assets/js/27.86601334.js"><link rel="prefetch" href="/assets/js/28.ac72a169.js"><link rel="prefetch" href="/assets/js/29.04ae9240.js"><link rel="prefetch" href="/assets/js/3.656260b0.js"><link rel="prefetch" href="/assets/js/30.24ce4d2b.js"><link rel="prefetch" href="/assets/js/5.61ba91d2.js"><link rel="prefetch" href="/assets/js/6.1b9fb03d.js"><link rel="prefetch" href="/assets/js/7.379d2cb5.js"><link rel="prefetch" href="/assets/js/8.630c86f7.js"><link rel="prefetch" href="/assets/js/9.3cbbae49.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5f5f71b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/zents_logo_icon.png" alt="ZenTS - Node.js &amp; TypeScript MVC-Framework for building rich web applications" class="logo"> <span class="site-name can-hide">ZenTS - Node.js &amp; TypeScript MVC-Framework for building rich web applications</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/configuration.html" class="nav-link">
  Configuration
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/cli.html" class="nav-link">
  CLI
</a></div><div class="nav-item"><a href="/roadmap.html" class="nav-link">
  Roadmap
</a></div> <a href="https://github.com/sahachide/ZenTS" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/configuration.html" class="nav-link">
  Configuration
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/cli.html" class="nav-link">
  CLI
</a></div><div class="nav-item"><a href="/roadmap.html" class="nav-link">
  Roadmap
</a></div> <a href="https://github.com/sahachide/ZenTS" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/gettingstarted/installation.html" class="sidebar-link">Installation &amp; Setup</a></li><li><a href="/guide/gettingstarted/helloworld.html" class="sidebar-link">Hello World Example</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced Guides</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/advancedguides/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/guide/advancedguides/request.html" aria-current="page" class="active sidebar-link">Request Context</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#injecting-the-request-context" class="sidebar-link">Injecting the request context</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#route-parameters" class="sidebar-link">Route parameters</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#url-querystring" class="sidebar-link">URL querystring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#parsing-nested-objects" class="sidebar-link">Parsing nested objects</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#parsing-arrays" class="sidebar-link">Parsing arrays</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#using-a-different-delimiter" class="sidebar-link">Using a different delimiter</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#accessing-the-raw-search-string" class="sidebar-link">Accessing the raw search string</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#and-more" class="sidebar-link">And more...</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#request-body" class="sidebar-link">Request body</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#receiving-form-data" class="sidebar-link">Receiving form data</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#receiving-json" class="sidebar-link">Receiving JSON</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#validating-request-body" class="sidebar-link">Validating request body</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#and-more-2" class="sidebar-link">And more...</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#working-with-the-http-request-header" class="sidebar-link">Working with the HTTP request header</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#get-a-header-value" class="sidebar-link">Get a header value</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#set-a-header-value" class="sidebar-link">Set a header value</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#remove-a-header-value" class="sidebar-link">Remove a header value</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#accessing-raw-request-object" class="sidebar-link">Accessing raw request object</a></li><li class="sidebar-sub-header"><a href="/guide/advancedguides/request.html#next-steps" class="sidebar-link">Next steps</a></li></ul></li><li><a href="/guide/advancedguides/response.html" class="sidebar-link">Response Context</a></li><li><a href="/guide/advancedguides/routing.html" class="sidebar-link">Routing</a></li><li><a href="/guide/advancedguides/database.html" class="sidebar-link">Database / ORM</a></li><li><a href="/guide/advancedguides/redis.html" class="sidebar-link">Redis</a></li><li><a href="/guide/advancedguides/user_management.html" class="sidebar-link">User and Session Management</a></li><li><a href="/guide/advancedguides/templates.html" class="sidebar-link">Views &amp; Templates</a></li><li><a href="/guide/advancedguides/static_files.html" class="sidebar-link">Static files</a></li><li><a href="/guide/advancedguides/services.html" class="sidebar-link">Services</a></li><li><a href="/guide/advancedguides/dependency_injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/guide/advancedguides/emails.html" class="sidebar-link">Sending emails</a></li></ul></section></li><li><a href="/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/cli.html" class="sidebar-link">Command-line interface (CLI)</a></li><li><a href="/roadmap.html" class="sidebar-link">Roadmap</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frontmatter-title"><a href="#frontmatter-title" class="header-anchor">#</a> Request Context</h1> <div data-v-3d11b470><div class="reading-time" data-v-3d11b470>
    11 min read (2061 words)
  </div> <div class="illustration-container" data-v-3d11b470><img src="/guide/request.svg" class="illustration-image" data-v-3d11b470></div> <h2 data-v-3d11b470><a href="#" class="header-anchor" data-v-3d11b470>#</a> Table of contents</h2> <div data-v-3d11b470><p data-v-3d11b470></p><div class="table-of-contents" data-v-3d11b470><ul data-v-3d11b470><li data-v-3d11b470><a href="#introduction" data-v-3d11b470>Introduction</a></li><li data-v-3d11b470><a href="#injecting-the-request-context" data-v-3d11b470>Injecting the request context</a></li><li data-v-3d11b470><a href="#route-parameters" data-v-3d11b470>Route parameters</a></li><li data-v-3d11b470><a href="#url-querystring" data-v-3d11b470>URL querystring</a><ul data-v-3d11b470><li data-v-3d11b470><a href="#parsing-nested-objects" data-v-3d11b470>Parsing nested objects</a></li><li data-v-3d11b470><a href="#parsing-arrays" data-v-3d11b470>Parsing arrays</a></li><li data-v-3d11b470><a href="#using-a-different-delimiter" data-v-3d11b470>Using a different delimiter</a></li><li data-v-3d11b470><a href="#accessing-the-raw-search-string" data-v-3d11b470>Accessing the raw search string</a></li><li data-v-3d11b470><a href="#and-more" data-v-3d11b470>And more...</a></li></ul></li><li data-v-3d11b470><a href="#request-body" data-v-3d11b470>Request body</a><ul data-v-3d11b470><li data-v-3d11b470><a href="#receiving-form-data" data-v-3d11b470>Receiving form data</a></li><li data-v-3d11b470><a href="#receiving-json" data-v-3d11b470>Receiving JSON</a></li><li data-v-3d11b470><a href="#validating-request-body" data-v-3d11b470>Validating request body</a></li><li data-v-3d11b470><a href="#and-more" data-v-3d11b470>And more...</a></li></ul></li><li data-v-3d11b470><a href="#working-with-the-http-request-header" data-v-3d11b470>Working with the HTTP request header</a><ul data-v-3d11b470><li data-v-3d11b470><a href="#get-a-header-value" data-v-3d11b470>Get a header value</a></li><li data-v-3d11b470><a href="#set-a-header-value" data-v-3d11b470>Set a header value</a></li><li data-v-3d11b470><a href="#remove-a-header-value" data-v-3d11b470>Remove a header value</a></li></ul></li><li data-v-3d11b470><a href="#accessing-raw-request-object" data-v-3d11b470>Accessing raw request object</a></li><li data-v-3d11b470><a href="#next-steps" data-v-3d11b470>Next steps</a></li></ul></div></div></div><p></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This guide assumes you already familiar with controllers and controller actions. If not, read the <a href="/guide/advancedguides/controllers.html">controller guide</a> first.</p></div> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>A complex (or simple) web-application interacts with the user frequently. When the user sends a contact form, makes a payment, downloads a file or even just opens a specific webpage, the server will receive the request and process in a controller action. As a developer, you need a simple and fast way to access the data (e.g. form data) send by the user. For this purpose, ZenTS exports request related annotations like <code>@request</code> or <code>@body</code>, which you can inject into a controller action.</p> <h2 id="injecting-the-request-context"><a href="#injecting-the-request-context" class="header-anchor">#</a> Injecting the request context</h2> <p>The request context can be injected into a controller action using the <code>@request</code> or <code>@req</code> annotation (and you might also want to use the <code>Request</code> interface exported by ZenTS):</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">index</span><span class="token punctuation">(</span>@request req<span class="token operator">:</span> Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// req is the request context</span>

  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The request context contains various useful datasets which are explained in the following chapters.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The request context can also be accessed by using the <code>@context</code> annotation (e.g. <code>context.request</code>).</p></div> <h2 id="route-parameters"><a href="#route-parameters" class="header-anchor">#</a> Route parameters</h2> <p>A common way to fetch IDs (e.g. a product ID) from a user is adding it aa a route parameter. These parameters are defined via route annotation and can be injected into a controller action using the <code>@request</code> or <code>@params</code> annotation:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/product/:productId&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">productDetail</span><span class="token punctuation">(</span>@params params<span class="token operator">:</span> <span class="token punctuation">{</span> productId<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/product/:productId&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">productDetail</span><span class="token punctuation">(</span>@request req<span class="token operator">:</span> Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The product ID is available in <code>req.params.productId</code> (or <code>params.productId</code>). If the user call this controller action with <code>/product/42</code>, the value will be <code>42</code>.</p> <p>A route annotation can also hold more then just one parameter:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/compare/:productId1/:product2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">compareProducts</span><span class="token punctuation">(</span>@params params<span class="token operator">:</span> <span class="token punctuation">{</span> productId1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> productId2<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// suppose user calls this action with /compare/123/456</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>productId1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;123&quot;</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>productId2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;456&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Head over to the <a href="/guide/advancedguides/routing.html">routing guide</a> to learn more about defining URLs in your application.</p></div> <h2 id="url-querystring"><a href="#url-querystring" class="header-anchor">#</a> URL querystring</h2> <p>The querystring (also known as <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/search" target="_blank" rel="noopener noreferrer">search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> part of the URL) is, like the routing parameters, part of the URL (namely everything what comes after the <code>?</code> part of a URL). The framework parses the querystring for you and exposes the result as <code>request.query</code>.</p> <p>The querystring is parsed as plain object, for example if the user opens http://localhost:8080/catalog/?foo=bar:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@request req<span class="token operator">:</span> Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: 'bar' }</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;bar&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Similar to <code>@params</code>, there is also a <code>@query</code> for direct access to the URL querystring:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token operator">:</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;bar&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="parsing-nested-objects"><a href="#parsing-nested-objects" class="header-anchor">#</a> Parsing nested objects</h3> <p>Creating querystrings as nested objects is also possible by surrounding the name of the sub-keys with square brackets <code>[]</code>.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?foo[bar]=baz</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: { bar: 'baz' } }</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { bar: 'baz' }</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;baz&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Make sure to check if a variable exists (like <code>req.query.foo.bar</code>) before accessing it. Querystrings can be easily omitted by user or clients. It's a good advice to have some default values for them in case a querystring (or part of it) is missing.</p></div> <p>Objects can even be nested further:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?foo[bar][baz]=nested</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: { bar: { baz: 'nested' } } }</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>bar<span class="token punctuation">.</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs &quot;nested&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The default limit of nested objects is <em>5</em>. This limit can be overwritten in the config, but keep in mind that the number should be reasonably small, otherwise your application might be vulnerable to attacks. You can read more about configuration in <a href="/configuration.html">this guide</a>.</p></div> <p>It's also possible to use the dot notation for constructing nested objects. You must enable this feature in the projects configuration file:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;web&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;querystring&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;allowDots&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?foo.bar=baz</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: { bar: 'baz' } }</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="parsing-arrays"><a href="#parsing-arrays" class="header-anchor">#</a> Parsing arrays</h3> <p>Arrays can be constructed from the querystring in a similar way like nested objects, using the <code>[]</code> notation (but this time without key(s)):</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?foo[]=bar&amp;foo[]=baz</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: ['bar', 'baz'] }</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs ['bar', 'baz']</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Indexes can also be supplied:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?foo[1]=bar&amp;foo[0]=baz</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { foo: ['baz', 'bar'] }</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Keep in mind that specifying indices in an array is limited to a maximum of <code>20</code>. Any array members with an index of greater than 20 will instead be converted to an object with the index as the key.</p> <h3 id="using-a-different-delimiter"><a href="#using-a-different-delimiter" class="header-anchor">#</a> Using a different delimiter</h3> <p>The default delimiter (<code>&amp;</code>) can be changed by setting the <code>web.querystring.delimiter</code> option:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;web&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;querystring&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;delimiter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?a=b;c=d</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { a: 'b', c: 'd' }</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Multiple delimiters are also supported by supplying a <code>RegEx</code>:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">module</span><span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    querystring<span class="token operator">:</span> <span class="token punctuation">{</span>
      delimiter<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[;,]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This is only supported when using a .js config file. Please refer to the <a href="/configuration.html">configuration guide</a> for more information.</p></div> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@query query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open: http://localhost:8080/catalog/?a=b;c=d,e=f</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs { a: 'b', c: 'd', e: 'f' }</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="accessing-the-raw-search-string"><a href="#accessing-the-raw-search-string" class="header-anchor">#</a> Accessing the raw search string</h3> <p>The raw URL search string can also be accessed as a child property of the <code>@request</code> context:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/catalog&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">catalog</span><span class="token punctuation">(</span>@request req<span class="token operator">:</span> Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// open http://localhost:8080/catalog/?foo=bar</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs ?foo=bar</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="and-more"><a href="#and-more" class="header-anchor">#</a> And more...</h3> <p>ZenTS use the awesome <a href="https://www.npmjs.com/package/qs" target="_blank" rel="noopener noreferrer">qs package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for parsing the querystring. The package contains a lot of options and is well <a href="https://www.npmjs.com/package/qs" target="_blank" rel="noopener noreferrer">documented<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. All options are also supported by ZenTS (see <a href="/configuration.html">configuration guide</a>).</p> <h2 id="request-body"><a href="#request-body" class="header-anchor">#</a> Request body</h2> <p>Some controller actions need more data that can be delivered reasonable by modifying the URL (with querystrings or route parameters). For example, when a user sends a contact form on a webpage or a client calling an API endpoint with a JSON payload, this data is usually transmitted inside the request body. Not all http methods have a body, <code>GET</code>, <code>HEAD</code> or <code>DELETE</code> requests normally don't contain a request body. In contrast to the <code>POST</code> or <code>PUT</code> http methods, which are likely to contain some body data.</p> <p>The body can be accessed in two ways:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/product&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">addProduct</span><span class="token punctuation">(</span>@request req<span class="token operator">:</span> Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

@<span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/product&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">addProduct</span><span class="token punctuation">(</span>@body body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The <code>body</code> will be automatically converted to an object, no matter if the client sends a multi-part form, a JSON or a urlencoded form.</p> <h3 id="receiving-form-data"><a href="#receiving-form-data" class="header-anchor">#</a> Receiving form data</h3> <p>A classic example where request body data is send over the wire is a good old contact form:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact-form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>E-Mail: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Message: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Send<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>This is a pretty straight forward HTML form with some standard text-fields. The controller action implementation could look like this:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/contact-form&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">submitContactForm</span><span class="token punctuation">(</span>@body body<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span>
  message<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token comment">/* logs {
    name: 'John Doe',
    email: 'john@example.com',
    message: 'Lorem ipsum'
  } */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="receiving-json"><a href="#receiving-json" class="header-anchor">#</a> Receiving JSON</h3> <p>Receiving a JSON body is similar to standard form data:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">curl</span> --request POST <span class="token punctuation">\</span>
  --url http://localhost:8000/product <span class="token punctuation">\</span>
  --header <span class="token string">'content-type: application/json'</span> <span class="token punctuation">\</span>
  --data <span class="token string">'{
	  &quot;name&quot;: &quot;MyProduct&quot;,
	  &quot;description&quot;: &quot;Lorem ipsum&quot;,
	  &quot;price&quot;: 2499
  }'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>The controller action look like this:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/product&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">createProduct</span><span class="token punctuation">(</span>@body body<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token comment">/* logs {
    name: 'MyProduct',
    description: 'Lorem ipsum',
    price: 2499
  }
  */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>As you see, handling body data is pretty easy in ZenTS.</p> <h3 id="validating-request-body"><a href="#validating-request-body" class="header-anchor">#</a> Validating request body</h3> <p>Sometimes you want to make sure that the data that is passed to your controller is correct in form and types. For that purpose, ZenTS exposes a <code>@validation()</code> annotation. With it, you can write fine-grained validation schemas for the request body of a controller:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>@<span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/product&quot;</span><span class="token punctuation">)</span>
@<span class="token function">validation</span><span class="token punctuation">(</span>
  validate<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> validate<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alphanum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> validate<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    price<span class="token operator">:</span> validate<span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">positive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">createProduct</span><span class="token punctuation">(</span>@body body<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Let's take a look what is happening here:</p> <ul><li>We added a <code>@validation()</code> annotation to our <code>@post</code> route. The validation is build with the help of the <code>validate</code> method. The <code>@validation()</code> and <code>validate</code> method are both exposed by the <code>zents</code> package.</li> <li>With the <code>validate</code> method, we got a lot of useful functions that can describe how the request body should look like. In the above example the request is only accepted when <code>name</code> is a string between 5-50 characters long and only contains alphanumeric characters. Furthermore if the <code>name</code> property is missing in the request, it will be aborted because it's marked as required. <code>description</code> on the other hand is optional and can be maximal 255 characters long. <code>price</code> is required and has to be a positive integer with a maximum of <code>9999</code>.</li></ul> <p>You don't have to worry about doing the validation by yourself in the controller. ZenTS will check the request body automatically and return a <code>422</code> http status code containing a detailed error information about which fields are wrong.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>For more information on how to structure the validation take a look at <a href="https://joi.dev/" target="_blank" rel="noopener noreferrer">joi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. All methods listen there can be used also with ZenTS <code>validate()</code> method, including changing the error messages and setting default values. Please make yourself familiar with <a href="https://joi.dev/" target="_blank" rel="noopener noreferrer">joi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, because it's a really powerful validation libary and with ZenTS, you can just use it out-of-the-box.</p></div> <h3 id="and-more-2"><a href="#and-more-2" class="header-anchor">#</a> And more...</h3> <p>ZenTS use the great and fast <a href="https://www.npmjs.com/package/formidable" target="_blank" rel="noopener noreferrer">formidable package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for parsing the request body. The package contains a lot of options and is well <a href="https://www.npmjs.com/package/formidable" target="_blank" rel="noopener noreferrer">documented<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. All options are also supported by ZenTS (see <a href="/configuration.html">configuration guide</a>).</p> <h2 id="working-with-the-http-request-header"><a href="#working-with-the-http-request-header" class="header-anchor">#</a> Working with the HTTP request header</h2> <p>Sometimes you may need to access the HTTP headers send from a client. The headers are exposed as <code>request.header</code> when using the <code>@request</code> or <code>@req</code> annotation.</p> <h3 id="get-a-header-value"><a href="#get-a-header-value" class="header-anchor">#</a> Get a header value</h3> <p>Accessing a specific header field by calling <code>request.header.get(key: string)</code>:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'accept'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs for example: 'text/html,application/xhtml+xml,application/xml'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In addition, the <code>get()</code> method has a type generic, which you can use to cast the correct type for the header value (either <code>string</code> or <code>string[]</code>)</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> example <span class="token operator">=</span> request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> example<span class="token punctuation">)</span> <span class="token comment">// logs &quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>To return all request headers, you can call <code>request.header.all()</code>, which returns an iterable iterator:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>A way to check for the existing of a header key is the <code>has()</code> method:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'does_not_exist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Header exists&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Header doesn't exists&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// logs &quot;Header doesn't exists&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="set-a-header-value"><a href="#set-a-header-value" class="header-anchor">#</a> Set a header value</h3> <p>It's also possible to set new header key / value pairs. This can be useful when you writing plugins or modifying the request header in a middleware:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="remove-a-header-value"><a href="#remove-a-header-value" class="header-anchor">#</a> Remove a header value</h3> <p>Request header values can be removed by calling the <code>remove()</code> method on the <code>request.header</code> object:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">public</span> <span class="token function">index</span><span class="token punctuation">(</span>@request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// logs &quot;bar&quot;</span>
  request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// logs undefined&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="accessing-raw-request-object"><a href="#accessing-raw-request-object" class="header-anchor">#</a> Accessing raw request object</h2> <p>The raw request object supplied by <a href="https://nodejs.org/api/http.html" target="_blank" rel="noopener noreferrer">Node.js http module<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is exposed under the <code>request.nodeReq</code> property. Working with the raw request object can be useful if you want to do something with it that is currently not supported by ZenTS. Be aware that when you modifying some parts of the raw request object, e.g. the header, these modifications are not automatically applied to the corresponding ZenTS controller action context. In generally you should avoid modifying the <code>request.nodeReq</code> object directly and use it ZenTS counterparts when ever possible.</p> <h2 id="next-steps"><a href="#next-steps" class="header-anchor">#</a> Next steps</h2> <p>Congrats! You just mastered the request context and its children. Now you should be able to handle incoming data easily, thanks to ZenTS request context.</p> <p>Now it's time to learn more about returning a response and how to setup routes properly. The following guides will help you to archive these goals:</p> <ul><li><a href="/guide/advancedguides/request.html" aria-current="page" class="router-link-exact-active router-link-active">Request guide</a></li> <li><a href="/guide/advancedguides/routing.html">Routing guide</a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sahachide/ZenTS/edit/master/docs/guide/advancedguides/request.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/25/2021, 1:21:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/guide/advancedguides/controllers.html" class="prev">
        Controllers
      </a></span> <span class="next"><a href="/guide/advancedguides/response.html">
        Response Context
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.ff0d6eb6.js" defer></script><script src="/assets/js/2.1831a849.js" defer></script><script src="/assets/js/20.9bbbcf25.js" defer></script><script src="/assets/js/4.be0fa7c4.js" defer></script>
  </body>
</html>
